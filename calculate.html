<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>CREDIFY — Calculate Score</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="header">
    <nav class="nav">
      <a href="index.html"><img src="logo-removebg-preview.png" alt="logo" style="height:26px"></a>
      <a href="index.html">Home</a>
      <a href="calculate.html" class="active">Calculate Score</a>
      <a href="profile.html">Profile</a>
      <a href="brands.html">For Brands</a>
      <a href="about.html">About Us</a>
    </nav>
  </header>

  <main class="container">
    <h2>Calculate Your Social Credibility Score</h2>
    <p class="lead">Enter your contact and Instagram ID to get your Credify score.</p>

    <div class="form-card">
      <label for="phone">Phone Number</label>
      <input id="phone" class="input" type="tel" placeholder="Enter phone number">

      <label for="instagram">Instagram ID</label>
      <input id="instagram" class="input" type="text" placeholder="Enter Instagram username">

      <div style="margin-top:12px;display:flex;gap:12px;justify-content:flex-end">
        <button class="btn" id="calcBtn">Calculate</button>
      </div>

      <!-- Score Section -->
      <div id="score-section" style="display:none;margin-top:20px;">
        <h3>Your Credify Score:</h3>
        <h1 id="score-value">0</h1>

        <!-- Indicator -->
        <div style="display:flex;justify-content:space-between;margin-bottom:8px;font-size:0.9rem;color:var(--muted)">
          <div>Poor</div><div>Average</div><div>Good</div>
        </div>
        <div class="score-bar-container">
          <div class="score-bar-fill"></div>
        </div>

        <!-- Request Email Button -->
        <button id="request-email" style="display:none;">Request to Email</button>
      </div>
    </div>

    <!-- Navigation -->
    <div class="nav-row" style="margin-top:20px;">
      <a class="btn secondary" href="index.html">← Previous</a>
      <a class="btn" href="profile.html">Next →</a>
    </div>
  </main>

  <footer class="footer">
    <small>© 2025 CREDIFY</small>
  </footer>

  <!-- Email Modal -->
  <div class="modal" id="email-modal">
    <div class="modal-content">
      <span class="close-btn" id="close-modal">&times;</span>
      <h3>Enter Your Email</h3>
      <input type="email" id="email-input" placeholder="example@mail.com">
      <button id="send-email" style="margin-top:10px;">Send</button>
    </div>
  </div>

  <script>
    const calcBtn = document.getElementById("calcBtn");
    const scoreSection = document.getElementById("score-section");
    const scoreValue = document.getElementById("score-value");
    const scoreBar = document.querySelector(".score-bar-fill");
    const requestEmailBtn = document.getElementById("request-email");

    calcBtn.addEventListener("click", function() {
      const phone = document.getElementById("phone").value.trim();
      const insta = document.getElementById("instagram").value.trim();

      if (!phone || !insta) {
        alert("Please fill out both fields.");
        return;
      }

      let score = Math.floor(Math.random() * 101);
      scoreValue.innerText = score + " / 100";
      scoreSection.style.display = "block";

      scoreBar.style.width = score + "%";
      if (score < 40) scoreBar.style.backgroundColor = "red";
      else if (score < 70) scoreBar.style.backgroundColor = "orange";
      else scoreBar.style.backgroundColor = "green";

      requestEmailBtn.style.display = "inline-block";
    });

    // Request Email Modal
    requestEmailBtn.addEventListener("click", function() {
      document.getElementById("email-modal").style.display = "flex";
    });
    document.getElementById("close-modal").addEventListener("click", function() {
      document.getElementById("email-modal").style.display = "none";
    });
    document.getElementById("send-email").addEventListener("click", function() {
      let email = document.getElementById("email-input").value.trim();
      alert("Request sent to " + email);
      document.getElementById("email-modal").style.display = "none";
      document.getElementById("email-input").value = "";
    });
    window.addEventListener("click", function(e) {
      if (e.target === document.getElementById("email-modal")) {
        document.getElementById("email-modal").style.display = "none";
      }
    });
  </script>
</body>
</html>

